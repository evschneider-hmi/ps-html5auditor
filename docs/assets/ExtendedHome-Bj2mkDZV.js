const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ExtendedDropZone-DY2pLh-X.js","./index-Dykb5sAM.js","./index-1Uil1rLK.css","./jszip.min-CwPCxiH3.js","./ExtendedResults-C35VM4hr.js","./TagTester-Bdq3J8TW.js","./bulk-QCl06fV8.js","./VastTester-C-Nn0PKq.js","./StaticCM360-CxcM1ha_.js"])))=>i.map(i=>d[i]);
import{r as E,g as F,R as T,j as u,_ as z}from"./index-Dykb5sAM.js";const K={},I=t=>{let e;const d=new Set,p=(a,s)=>{const i=typeof a=="function"?a(e):a;if(!Object.is(i,e)){const h=e;e=s??(typeof i!="object"||i===null)?i:Object.assign({},e,i),d.forEach(y=>y(e,h))}},v=()=>e,n={setState:p,getState:v,getInitialState:()=>o,subscribe:a=>(d.add(a),()=>d.delete(a)),destroy:()=>{(K?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),d.clear()}},o=e=t(p,v,n);return n},G=t=>t?I(t):I;var $={exports:{}},P={},V={exports:{}},W={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R=E;function J(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Q=typeof Object.is=="function"?Object.is:J,X=R.useState,Y=R.useEffect,q=R.useLayoutEffect,ee=R.useDebugValue;function te(t,e){var d=e(),p=X({inst:{value:d,getSnapshot:e}}),v=p[0].inst,x=p[1];return q(function(){v.value=d,v.getSnapshot=e,O(v)&&x({inst:v})},[t,d,e]),Y(function(){return O(v)&&x({inst:v}),t(function(){O(v)&&x({inst:v})})},[t]),ee(d),d}function O(t){var e=t.getSnapshot;t=t.value;try{var d=e();return!Q(t,d)}catch{return!0}}function re(t,e){return e()}var ne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?re:te;W.useSyncExternalStore=R.useSyncExternalStore!==void 0?R.useSyncExternalStore:ne;V.exports=W;var oe=V.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M=E,se=oe;function ie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ae=typeof Object.is=="function"?Object.is:ie,ce=se.useSyncExternalStore,le=M.useRef,ue=M.useEffect,de=M.useMemo,fe=M.useDebugValue;P.useSyncExternalStoreWithSelector=function(t,e,d,p,v){var x=le(null);if(x.current===null){var j={hasValue:!1,value:null};x.current=j}else j=x.current;x=de(function(){function n(h){if(!o){if(o=!0,a=h,h=p(h),v!==void 0&&j.hasValue){var y=j.value;if(v(y,h))return s=y}return s=h}if(y=s,ae(a,h))return y;var w=p(h);return v!==void 0&&v(y,w)?(a=h,y):(a=h,s=w)}var o=!1,a,s,i=d===void 0?null:d;return[function(){return n(e())},i===null?void 0:function(){return n(i())}]},[e,d,p,v]);var f=ce(t,x[0],x[1]);return ue(function(){j.hasValue=!0,j.value=f},[f]),fe(f),f};$.exports=P;var pe=$.exports;const he=F(pe),Z={},{useDebugValue:ve}=T,{useSyncExternalStoreWithSelector:me}=he;let B=!1;const Se=t=>t;function xe(t,e=Se,d){(Z?"production":void 0)!=="production"&&d&&!B&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),B=!0);const p=me(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,d);return ve(p),p}const L=t=>{(Z?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?G(t):t,d=(p,v)=>xe(e,p,v);return Object.assign(d,e),d},be=t=>t?L(t):L,ge={profile:"IAB",disallowNestedZips:!0,dangerousExtensions:[".exe",".bat",".cmd",".sh",".msi"],externalHostAllowlist:["fonts.googleapis.com","fonts.gstatic.com"],externalFiletypeAllowlist:[".woff",".woff2",".ttf"],clickTagPatterns:[String(/\bwindow\.clickTag\b/),String(/\bclickTag\b/),String(/\bclickTAG\b/),String(/\bEnabler\.(exit|exitOverride)\b/)],stripCacheBusters:!0,orphanSeverity:"WARN",missingAssetSeverity:"FAIL",httpSeverity:"FAIL",externalResourceSeverity:"WARN",hardcodedNavSeverity:"WARN",iabInitialLoadKB:150,iabSubsequentLoadKB:1e3,iabMaxZippedKB:200,iabStandardDate:"2025-02-25"},D=be(t=>({settings:{...ge},bundles:[],results:[],selectedBundleId:void 0,tab:"zip",setTab:e=>t(()=>({tab:e})),vastSeed:void 0,tagSeed:void 0,vastAutoPayload:void 0,setVastAutoPayload:e=>t(()=>({vastAutoPayload:e})),addBundle:e=>t(d=>({bundles:[...d.bundles,e]})),removeBundle:e=>t(d=>{var j;const p=d.bundles.filter(f=>f.id!==e),v=d.results.filter(f=>f.bundleId!==e);let x=d.selectedBundleId;return x===e&&(x=(j=v[0])==null?void 0:j.bundleId),{bundles:p,results:v,selectedBundleId:x}}),setResults:e=>t(()=>({results:e})),selectBundle:e=>t(()=>({selectedBundleId:e})),setVastSeed:e=>t(()=>({vastSeed:e})),setTagSeed:e=>t(()=>({tagSeed:e}))}));var H={exports:{}};(function(t){var e=function(){var d=String.fromCharCode,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",x={};function j(n,o){if(!x[n]){x[n]={};for(var a=0;a<n.length;a++)x[n][n.charAt(a)]=a}return x[n][o]}var f={compressToBase64:function(n){if(n==null)return"";var o=f._compress(n,6,function(a){return p.charAt(a)});switch(o.length%4){default:case 0:return o;case 1:return o+"===";case 2:return o+"==";case 3:return o+"="}},decompressFromBase64:function(n){return n==null?"":n==""?null:f._decompress(n.length,32,function(o){return j(p,n.charAt(o))})},compressToUTF16:function(n){return n==null?"":f._compress(n,15,function(o){return d(o+32)})+" "},decompressFromUTF16:function(n){return n==null?"":n==""?null:f._decompress(n.length,16384,function(o){return n.charCodeAt(o)-32})},compressToUint8Array:function(n){for(var o=f.compress(n),a=new Uint8Array(o.length*2),s=0,i=o.length;s<i;s++){var h=o.charCodeAt(s);a[s*2]=h>>>8,a[s*2+1]=h%256}return a},decompressFromUint8Array:function(n){if(n==null)return f.decompress(n);for(var o=new Array(n.length/2),a=0,s=o.length;a<s;a++)o[a]=n[a*2]*256+n[a*2+1];var i=[];return o.forEach(function(h){i.push(d(h))}),f.decompress(i.join(""))},compressToEncodedURIComponent:function(n){return n==null?"":f._compress(n,6,function(o){return v.charAt(o)})},decompressFromEncodedURIComponent:function(n){return n==null?"":n==""?null:(n=n.replace(/ /g,"+"),f._decompress(n.length,32,function(o){return j(v,n.charAt(o))}))},compress:function(n){return f._compress(n,16,function(o){return d(o)})},_compress:function(n,o,a){if(n==null)return"";var s,i,h={},y={},w="",A="",b="",_=2,g=3,m=2,S=[],r=0,l=0,c;for(c=0;c<n.length;c+=1)if(w=n.charAt(c),Object.prototype.hasOwnProperty.call(h,w)||(h[w]=g++,y[w]=!0),A=b+w,Object.prototype.hasOwnProperty.call(h,A))b=A;else{if(Object.prototype.hasOwnProperty.call(y,b)){if(b.charCodeAt(0)<256){for(s=0;s<m;s++)r=r<<1,l==o-1?(l=0,S.push(a(r)),r=0):l++;for(i=b.charCodeAt(0),s=0;s<8;s++)r=r<<1|i&1,l==o-1?(l=0,S.push(a(r)),r=0):l++,i=i>>1}else{for(i=1,s=0;s<m;s++)r=r<<1|i,l==o-1?(l=0,S.push(a(r)),r=0):l++,i=0;for(i=b.charCodeAt(0),s=0;s<16;s++)r=r<<1|i&1,l==o-1?(l=0,S.push(a(r)),r=0):l++,i=i>>1}_--,_==0&&(_=Math.pow(2,m),m++),delete y[b]}else for(i=h[b],s=0;s<m;s++)r=r<<1|i&1,l==o-1?(l=0,S.push(a(r)),r=0):l++,i=i>>1;_--,_==0&&(_=Math.pow(2,m),m++),h[A]=g++,b=String(w)}if(b!==""){if(Object.prototype.hasOwnProperty.call(y,b)){if(b.charCodeAt(0)<256){for(s=0;s<m;s++)r=r<<1,l==o-1?(l=0,S.push(a(r)),r=0):l++;for(i=b.charCodeAt(0),s=0;s<8;s++)r=r<<1|i&1,l==o-1?(l=0,S.push(a(r)),r=0):l++,i=i>>1}else{for(i=1,s=0;s<m;s++)r=r<<1|i,l==o-1?(l=0,S.push(a(r)),r=0):l++,i=0;for(i=b.charCodeAt(0),s=0;s<16;s++)r=r<<1|i&1,l==o-1?(l=0,S.push(a(r)),r=0):l++,i=i>>1}_--,_==0&&(_=Math.pow(2,m),m++),delete y[b]}else for(i=h[b],s=0;s<m;s++)r=r<<1|i&1,l==o-1?(l=0,S.push(a(r)),r=0):l++,i=i>>1;_--,_==0&&(_=Math.pow(2,m),m++)}for(i=2,s=0;s<m;s++)r=r<<1|i&1,l==o-1?(l=0,S.push(a(r)),r=0):l++,i=i>>1;for(;;)if(r=r<<1,l==o-1){S.push(a(r));break}else l++;return S.join("")},decompress:function(n){return n==null?"":n==""?null:f._decompress(n.length,32768,function(o){return n.charCodeAt(o)})},_decompress:function(n,o,a){var s=[],i=4,h=4,y=3,w="",A=[],b,_,g,m,S,r,l,c={val:a(0),position:o,index:1};for(b=0;b<3;b+=1)s[b]=b;for(g=0,S=Math.pow(2,2),r=1;r!=S;)m=c.val&c.position,c.position>>=1,c.position==0&&(c.position=o,c.val=a(c.index++)),g|=(m>0?1:0)*r,r<<=1;switch(g){case 0:for(g=0,S=Math.pow(2,8),r=1;r!=S;)m=c.val&c.position,c.position>>=1,c.position==0&&(c.position=o,c.val=a(c.index++)),g|=(m>0?1:0)*r,r<<=1;l=d(g);break;case 1:for(g=0,S=Math.pow(2,16),r=1;r!=S;)m=c.val&c.position,c.position>>=1,c.position==0&&(c.position=o,c.val=a(c.index++)),g|=(m>0?1:0)*r,r<<=1;l=d(g);break;case 2:return""}for(s[3]=l,_=l,A.push(l);;){if(c.index>n)return"";for(g=0,S=Math.pow(2,y),r=1;r!=S;)m=c.val&c.position,c.position>>=1,c.position==0&&(c.position=o,c.val=a(c.index++)),g|=(m>0?1:0)*r,r<<=1;switch(l=g){case 0:for(g=0,S=Math.pow(2,8),r=1;r!=S;)m=c.val&c.position,c.position>>=1,c.position==0&&(c.position=o,c.val=a(c.index++)),g|=(m>0?1:0)*r,r<<=1;s[h++]=d(g),l=h-1,i--;break;case 1:for(g=0,S=Math.pow(2,16),r=1;r!=S;)m=c.val&c.position,c.position>>=1,c.position==0&&(c.position=o,c.val=a(c.index++)),g|=(m>0?1:0)*r,r<<=1;s[h++]=d(g),l=h-1,i--;break;case 2:return A.join("")}if(i==0&&(i=Math.pow(2,y),y++),s[l])w=s[l];else if(l===h)w=_+_.charAt(0);else return null;A.push(w),s[h++]=_+w.charAt(0),i--,_=w,i==0&&(i=Math.pow(2,y),y++)}}};return f}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(H);var ye=H.exports;const N=T.lazy(()=>z(()=>import("./ExtendedDropZone-DY2pLh-X.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(t=>({default:t.ExtendedDropZone}))),_e=T.lazy(()=>z(()=>import("./ExtendedResults-C35VM4hr.js"),__vite__mapDeps([4,1,2]),import.meta.url).then(t=>({default:t.ExtendedResults}))),je=T.lazy(()=>z(()=>import("./TagTester-Bdq3J8TW.js"),__vite__mapDeps([5,1,2,6]),import.meta.url).then(t=>({default:t.TagTester}))),we=T.lazy(()=>z(()=>import("./VastTester-C-Nn0PKq.js"),__vite__mapDeps([7,1,2,6,3]),import.meta.url).then(t=>({default:t.VastTester}))),Ee=T.lazy(()=>z(()=>import("./StaticCM360-CxcM1ha_.js"),__vite__mapDeps([8,1,2]),import.meta.url).then(t=>({default:t.StaticCM360})));function Ae(){const t=E.useMemo(()=>{try{const f=new URLSearchParams(location.search).get("strip");return f?String(f):""}catch{return""}},[]),e=D(f=>f.tab),d=D(f=>f.setTab),[p,v]=E.useState(()=>{try{return localStorage.getItem("ext_theme")==="dark"}catch{return!1}}),x=D(f=>f.bundles),j=D(f=>f.setResults);return E.useEffect(()=>{try{const f=location.hash.match(/#data=([^&]+)/);if(f&&f[1]){const n=ye.decompressFromEncodedURIComponent(f[1]);if(n){const o=JSON.parse(n);o&&o.findings&&j([o])}}}catch{}},[]),E.useEffect(()=>{try{localStorage.setItem("ext_theme",p?"dark":"light")}catch{}try{const f=document.body.classList;if(!f)return;p?f.add("theme-dark"):f.remove("theme-dark")}catch{}},[p]),E.useEffect(()=>{if(e==="tag"||e==="static"||e==="video")try{d("zip")}catch{}},[e,d]),t==="2"?u.jsx(C,{children:u.jsxs("div",{children:[u.jsxs("header",{className:"header",children:[u.jsxs("div",{className:"brand",children:[u.jsx("div",{className:"brand-logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"brand-title",children:"Creative Suite Auditor"}),u.jsx("div",{className:"brand-sub",children:"From Horizon Media’s Platform Solutions team"})]})]}),u.jsxs("div",{className:"toolbar",children:[u.jsx("button",{className:"btn primary",onClick:()=>location.reload(),children:"Restart"}),u.jsx(U,{dark:p,onToggle:()=>v(f=>!f)})]})]}),u.jsx("div",{style:{padding:12,fontSize:12},children:"Shell OK (strip=2). Remove strip or set strip=3 to progressively load UI."})]})}):u.jsx(C,{children:u.jsxs("div",{children:[u.jsxs("header",{className:"header",children:[u.jsxs("div",{className:"brand",children:[u.jsx("div",{className:"brand-logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"brand-title",children:"Creative Suite Auditor"}),u.jsx("div",{className:"brand-sub",children:"From Horizon Media’s Platform Solutions team"})]})]}),u.jsxs("div",{className:"toolbar",children:[u.jsx("button",{className:"btn primary",onClick:()=>location.reload(),children:"Restart"}),u.jsx(U,{dark:p,onToggle:()=>v(f=>!f)})]})]}),u.jsxs("nav",{className:"tabs",children:[u.jsx(k,{active:e==="zip",onClick:()=>d("zip"),children:"HTML5"}),u.jsx(k,{active:e==="vast",onClick:()=>d("vast"),children:"VAST"}),u.jsx(k,{active:e==="tag",onClick:()=>d("tag"),disabled:!0,children:"Ad Tag"}),u.jsx(k,{active:e==="static",onClick:()=>d("static"),disabled:!0,children:"Static"}),u.jsx(k,{active:e==="video",onClick:()=>d("video"),disabled:!0,children:"Video"})]}),u.jsxs(E.Suspense,{fallback:u.jsx("div",{style:{padding:12,fontSize:12},children:"Loading module…"}),children:[e==="zip"&&u.jsx(N,{mode:"zip"}),e==="vast"&&u.jsx(we,{}),e==="tag"&&u.jsx(je,{}),e==="static"&&u.jsx(Ee,{}),e==="video"&&u.jsx(N,{mode:"video"})]}),x.length>0&&u.jsx("div",{style:{marginTop:16},children:u.jsx(E.Suspense,{fallback:u.jsx("div",{style:{padding:12,fontSize:12},children:"Loading results…"}),children:u.jsx(_e,{})})})]})})}const k=({active:t,onClick:e,children:d,disabled:p})=>u.jsxs("button",{onClick:p?void 0:e,className:`tab ${t?"active":""}`,disabled:!!p,"aria-disabled":!!p,style:{position:"relative",opacity:p?.7:1,cursor:p?"not-allowed":"pointer",overflow:"hidden"},title:void 0,children:[d,p&&u.jsx("span",{"aria-hidden":!0,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-20deg)",width:"140%",height:10,background:"var(--accent)",opacity:.18,pointerEvents:"none",borderRadius:2}})]});class C extends T.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,err:e}}componentDidCatch(e){try{console.error("V2 app error:",e)}catch{}}render(){return this.state.hasError?u.jsxs("div",{className:"panel",style:{padding:12},children:[u.jsx("h1",{style:{fontSize:16,fontWeight:700,marginBottom:8},children:"Something went wrong"}),u.jsx("div",{style:{fontSize:12,color:"#fbbf24"},children:"The UI hit an unexpected error while rendering. Try refreshing or re-uploading the asset."})]}):this.props.children}}const U=({dark:t,onToggle:e})=>u.jsx("button",{type:"button",role:"switch","aria-checked":t,"aria-label":t?"Switch to light mode":"Switch to dark mode",title:t?"Light Mode":"Dark Mode",className:`switch ${t?"on":""}`,onClick:e,children:u.jsx("span",{className:"knob"})}),Re=Object.freeze(Object.defineProperty({__proto__:null,ExtendedHome:Ae},Symbol.toStringTag,{value:"Module"}));export{Re as E,D as u};
